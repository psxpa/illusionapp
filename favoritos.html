<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favoritos - TV LATINO PLUS</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #ffa826;
            color: white;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }
        header {
            background-color: #ffa826;
            color: black;
            padding: 10px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
        }
        header h1 {
            margin: 0;
            font-size: 20px;
        }
        .menu-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fff;
            color: #000;
            display: flex;
            flex-direction: column;
        }
        .menu-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid rgba(0, 0, 0, 0.1); 
            border-radius: 5px;
            background-color: #f9f9f9;
            transition: box-shadow 0.3s ease;
            cursor: pointer;
            flex-shrink: 0;
            width: calc(100% - 20px);
        }
        .menu-item img {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            flex-shrink: 0;
        }
        .menu-item div {
            flex: 1;
        }
        .menu-item h3, .menu-item p {
            margin: 0;
        }
        .menu-item .favorite {
            font-size: 20px;
            color: red;
            cursor: pointer;
        }
        .menu-item:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); 
        }
        .menu {
            background-color: #ffa826;
            padding: 10px;
            display: flex;
            justify-content: space-around;
        }
        .menu button {
            background-color: #ffa826;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        .menu button:hover {
            text-decoration: underline;
        }
        .menu svg  {
            width: 24px;
            height: 24px;
            fill: fill;
        }
        .menu-text {
            margin-top: 5px;
            font-size: 17px;
        }
        .toast-container {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: auto;
            z-index: 1000;
            text-align: center;
        }
        .toast {
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            opacity: 0;
            transition: opacity 0.5s;
            white-space: nowrap;
            display: inline-block;
        }
        .toast.show {
            opacity: 1;
        }
    </style>
</head>
<body>
    <header>
        <h1>Lista de favoritos</h1>
    </header>
    <div class="menu-container" id="menu-container">
        <!-- Los elementos favoritos se insertarán aquí -->
     </div>
    <footer class="menu">
        <button onclick="location.href='GO:PP'">
            <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
  <path fill-rule="evenodd" d="M11.293 3.293a1 1 0 0 1 1.414 0l6 6 2 2a1 1 0 0 1-1.414 1.414L19 12.414V19a2 2 0 0 1-2 2h-3a1 1 0 0 1-1-1v-3h-2v3a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2v-6.586l-.293.293a1 1 0 0 1-1.414-1.414l2-2 6-6Z" clip-rule="evenodd"></path>
</svg>

            <div class="menu-text">Principal</div>
        </button>
        <button onclick="none">
            <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="red" viewBox="0 0 24 24">
  <path d="m12.75 20.66 6.184-7.098c2.677-2.884 2.559-6.506.754-8.705-.898-1.095-2.206-1.816-3.72-1.855-1.293-.034-2.652.43-3.963 1.442-1.315-1.012-2.678-1.476-3.973-1.442-1.515.04-2.825.76-3.724 1.855-1.806 2.201-1.915 5.823.772 8.706l6.183 7.097c.19.216.46.34.743.34a.985.985 0 0 0 .743-.34Z"></path>
</svg>
          
          <div class="menu-text">Favoritos</div>
        </button>
        <button onclick="location.href='GO:VIDEO'">
            <svg fill="#fcfafa" height="800px" width="800px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="0 0 488 488" xml:space="preserve">
<g>
	<g>
		<path d="M448.6,40.35H39.4C17.6,40.35,0,57.95,0,79.75v276.6c0,21.8,17.6,39.4,39.4,39.4h110.5v37.8c0,7.8,6.3,14.1,14.1,14.1h160
			c7.8,0,14.1-6.3,14.1-14.1v-37.8h110.5c21.8,0,39.4-17.6,39.4-39.4V79.75C488.1,58.05,470.4,40.35,448.6,40.35z M434.3,341.55
			H53.7V94.15h380.6V341.55z"></path>
		<path d="M316.6,229.55l-113.8,65.7c-6.4,3.7-14.5-0.9-14.5-8.4v-131.4c0-7.4,8.1-12.1,14.5-8.4l113.8,65.7
			C323.1,216.55,323.1,225.85,316.6,229.55z"></path>
	</g>
</g>
</svg>
            <div class="menu-text">Reproductor</div>
        </button>
    <!-- Nuevo botón -->
  </button>
        <button onclick="location.href='http://action_exit'">
            <svg 
   xmlns="http://www.w3.org/2000/svg"
   version="1.1"
   width="100%"
   height="100%"
   viewBox="0 0 10 10"
   id="svg2">
  <metadata
     id="metadata8">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" ></dc:type>
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <defs
     id="defs6" ></defs>
  <rect
     width="10"
     height="10"
     x="0"
     y="0"
     id="canvas"
     style="fill:none;stroke:none;visibility:hidden" ></rect>
  <path
     d="m 0,0 0,10 6.25,0 0,-2.5 -1.25,0 0,1.25 -3.75,0 0,-7.5 3.75,0 0,1.25 1.25,0 L 6.25,0 0,0 z m 7,2.5 0,1.75 -4,0 0,1.5 4,0 L 7,7.5 10,5 7,2.5 z"
     id="exit"
     style="fill:#fcfafa;fill-opacity:1;stroke:none" ></path>
</svg>

            <div class="menu-text">Salir</div>
        </button>
  </footer>

    <div class="toast-container" id="toast-container"></div>

    <script>
        const allItems = [
            {
                id: 1,
                title: "8 NTV",
                description: "Noticias-Nayarit",
                image: "https://i.imghippo.com/files/a259H1723480892.png",
                videoUrl: "https://bcovlive-a.akamaihd.net/628aecb4fccb4c52b4f9c8d5cc57fb73/us-west-2/6058004209001/profile_0/chunklist_dvr.m3u8"
            },
            {
                id: 2,
                title: "12 TV",
                description: "Entretenimiento-Chile",
                image: "https://i.imghippo.com/files/Dc1w71723481036.png",
                videoUrl: "https://bcovlive-a.akamaihd.net/74f665e9ff8447639d4de4b8b458d8ae/us-east-1/6058004209001/profile_0/chunklist_dvr.m3u8"
            },
            {
                id: 3,
                title: "C5N",
                description: "Argentina - Sitio web de TV",
                image: "https://via.placeholder.com/50",
                videoUrl: "https://vcp4.myplaytv.com:1936/nextv/nextv/chunklist_w1685032733.m3u8"
            },
            {
                id: 4,
                title: "Canal 4",
                description: "Misceláneo",
                image: "https://via.placeholder.com/50",
                videoUrl: "https://stmv1.srvif.com/gospelcartoon/gospelcartoon/playlist.m3u8"
            },
            {
                id: 5,
                title: "Cosmovisión",
                description: "Entretenimiento",
                image: "https://via.placeholder.com/50",
                videoUrl: "https://example.com/video5.m3u8"
            },
            {
                id: 6,
                title: "Canal Provincial San Miguel",
                description: "Argentina",
                image: "https://via.placeholder.com/50",
                videoUrl: "https://example.com/video6.m3u8"
            },
            {
                id: 7,
                title: "Chacra TV",
                description: "Argentina",
                image: "https://via.placeholder.com/50",
                videoUrl: "https://example.com/video7.m3u8"
            }
        ];

        function loadFavorites() {
            const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            const menuContainer = document.getElementById('menu-container');

            favorites.forEach(id => {
                const item = allItems.find(item => item.id === id);
                if (item) {
                    const menuItem = document.createElement('div');
                    menuItem.className = 'menu-item';
                    menuItem.setAttribute('data-id', item.id);

                    menuItem.innerHTML = `
                        <img src="${item.image}" alt="${item.title}">
                        <div onclick="playVideo('${item.videoUrl}', ${item.id})">
                            <h3>${item.title}</h3>
                            <p>${item.description}</p>
                        </div>
                        <span class="favorite" onclick="toggleFavorite(event, ${item.id})">❤</span>
                    `;
                    menuContainer.appendChild(menuItem);
                }
            });
        }

        function playVideo(src, id) {
            localStorage.setItem('videoSrc', src);
            window.location.href = `go:vid${id}`; // Redirige a un enlace único basado en el ID
        }

        function toggleFavorite(event, id) {
            event.stopPropagation(); // Previene que el evento haga clic en el contenedor
            const favorites = JSON.parse(localStorage.getItem('favorites')) || [];

            if (favorites.includes(id)) {
                // Eliminar de favoritos
                const index = favorites.indexOf(id);
                if (index > -1) {
                    favorites.splice(index, 1);
                }
                event.target.parentElement.remove(); // Remueve el elemento de la lista de favoritos
                showToast('Se eliminó de favoritos');
            } else {
                // Añadir a favoritos
                favorites.push(id);
                event.target.classList.add('active');
                showToast('Ya se agregó a favoritos');
            }

            localStorage.setItem('favorites', JSON.stringify(favorites));
        }

        function showToast(message) {
            const toastContainer = document.getElementById('toast-container');
            
            // Elimina todos los toasts existentes antes de agregar uno nuevo
            while (toastContainer.firstChild) {
                toastContainer.removeChild(toastContainer.firstChild);
            }
            
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            toastContainer.appendChild(toast);

            setTimeout(() => {
                toast.classList.add('show');
                setTimeout(() => {
                    toast.classList.remove('show');
                    toast.remove();
                }, 3000);
            }, 100);
        }

        document.addEventListener('DOMContentLoaded', loadFavorites);
    </script>
</body>
</html>
